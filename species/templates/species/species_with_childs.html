<script type="text/javascript">
    $(function(){
        $("#{{ species.id }}").click(function(){
            $.post('/species/a/',
                   { 'id':'{{ species.id }}',
                     'childs':'{{ species.childs|length }}'},
                   function(data) {
                     $("#table{{ species.id }}").replaceWith(data);
                   });
        });
    });
</script>
<table id="table{{ species.id }}">
    <tr>
        <td colspan="100%">
            <button id="{{ species.id }}">
                {% include "species/species.html" with species=species %}
            </button>
        </td>
    </tr>
    <tr>
        {% for child in species.childs %}
            <td>
                {% include "species/species_with_childs.html" with species=child %}
            </td>
        {% endfor %}
    </tr>
</table>